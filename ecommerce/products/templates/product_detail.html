{% extends 'base.html' %}

{% block title %}{{ product.name }}{% endblock %}

{% block content %}
<nav aria-label="breadcrumb" class="mt-3">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{% url 'product_list' %}">Produits</a></li>
        <li class="breadcrumb-item active" aria-current="page">{{ product.name }}</li>
    </ol>
</nav>

<div class="row">
    <div class="col-md-6">
        {% if product.image %}
            <img src="{{ product.image.url }}" class="product-detail-image" alt="{{ product.name }}">
        {% endif %}
    </div>
    <div class="col-md-6">
        <h1 class="display-5 mb-4">{{ product.name }}</h1>
        
        <div class="mb-4">
            <span class="product-category mb-3 d-inline-block">
                <i class="fas fa-tag me-1"></i>
                <a href="{% url 'category_detail' product.category.id %}" class="text-white text-decoration-none">
                    {{ product.category.name }}
                </a>
            </span>
        </div>

        <p class="price display-6 mb-4">{{ product.price }} €</p>
        
        <div class="mb-4">
            <h2 class="h5 mb-3">Description :</h2>
            <p class="product-description">{{ product.description }}</p>
        </div>

        <div class="mb-4">
            {% if product.stock > 10 %}
                <span class="stock-badge in-stock">
                    <i class="fas fa-check-circle me-1"></i>En stock : {{ product.stock }} unités
                </span>
            {% elif product.stock > 0 %}
                <span class="stock-badge low-stock">
                    <i class="fas fa-exclamation-circle me-1"></i>Stock limité : {{ product.stock }} unités
                </span>
            {% else %}
                <span class="stock-badge out-of-stock">
                    <i class="fas fa-times-circle me-1"></i>Rupture de stock
                </span>
            {% endif %}
        </div>

        <div class="d-grid gap-2">
            <button class="btn btn-primary btn-lg add-to-cart" data-product-id="{{ product.id }}">
                <i class="fas fa-shopping-cart me-2"></i>Ajouter au panier
            </button>
            <a href="{% url 'product_list' %}" class="btn btn-outline-secondary">
                <i class="fas fa-arrow-left me-2"></i>Retour aux produits
            </a>
        </div>
    </div>
</div>
{% endblock %}
